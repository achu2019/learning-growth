## 12 | 套路篇：CPU 性能优化的几个思路

### 笔记

性能优化方法论：

- 怎么判断它是不是有效（特别是优化后，到底能提升多少性能？
- 性能问题通常不是独立的，如果有多个性能问题同时发生，你应该先优化哪一个呢？
- 提升性能的方法并不是唯一的，当有多个方法可以选择时，你会选择哪一种呢？

性能评估”三步走“：

1. 确定想的量化指标；
2. 测试优化前的性能指标；
3. 测试优化后的性能指标；

避免性能测试工具干扰应用程序的性能。

性能优化并发没有成本。

过早优化是万恶之源。

### 发现面试题

多个性能问题同时存在，要怎么选择？

”二八原则“，并不是所有的性能问题都值得优化。（动手之前先动脑，先把这些性能问题分析一遍，找出重要的、可以最大程度提升性能的问题，从它开始优化）

应用程序优化的方法：

1. 编译器优化
2. 算法优化
3. 异步处理
4. 多线程代替多进程
5. 善用缓存

系统层面CPU优化方法：

- CPU 绑定
- CPU 独占
- 优先级调整
- 为进程设置资源限制
- NUMA(Non-Uniform Memory Access)优化
- 中断负载均衡

### 专栏金句

不要局限在单一维度的指标上。

